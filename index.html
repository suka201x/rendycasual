<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<title>RENDY CASUAL</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<style>
  body {
    margin: 0;
    background: #000;
    color: #fff;
    font-family: Arial, sans-serif;
  }

  #header, #footer {
    background: #111;
    padding: 12px;
    text-align: center;
  }

  #header span {
    font-family: 'Orbitron', sans-serif;
    font-size: 1.5rem;
    font-weight: 900;
    color: #FFD700;
  }

  #mainContent {
    display: flex;
    justify-content: center;
    padding: 12px;
  }

  #middleSection {
    display: flex;
    flex-direction: row;
    align-items: stretch;
    gap: 12px;
    width: 100%;
    max-width: 1200px;
  }

  .left-col {
    flex: 1 1 70%;
    max-width: 70%;
    display: flex;
    flex-direction: column;
    gap: 12px;
  }

  #player-container {
    width: 100%;
    aspect-ratio: 16/9;
    background: #222;
    position: relative;
    overflow: hidden;
  }

  #player-container video {
    width: 100%;
    height: 100%;
    background: #000;
  }

  #overlay {
    position: absolute;
    top: 0; left: 0; right: 0; bottom: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    color: red;
    font-weight: bold;
    background: rgba(0,0,0,0.5);
  }

  #controls {
    position: absolute;
    bottom: 8px;
    left: 8px;
    right: 8px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: rgba(0,0,0,0.4);
    border-radius: 8px;
    padding: 4px 8px;
  }

  #chatContainer {
    flex: 1 1 30%;
    max-width: 30%;
    min-width: 240px;
    background: #111;
    border-radius: 8px;
    display: flex;
    flex-direction: column;
  }

  #chatBox {
    flex: 1;
    overflow-y: auto;
    padding: 8px;
  }

  #chatForm {
    display: flex;
    padding: 8px;
    border-top: 1px solid #333;
  }

  #chatForm input {
    flex: 1;
    padding: 8px;
    border: none;
    border-radius: 4px;
  }

  #chatForm button {
    background: red;
    color: #fff;
    border: none;
    padding: 8px 12px;
    margin-left: 6px;
    border-radius: 4px;
    cursor: pointer;
  }

  .stream-row {
    display: flex;
    gap: 6px;
    align-items: center;
  }

  .stream-row span {
    color: #FFD700;
    font-weight: bold;
  }

  .stream-row button {
    background: #222;
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 6px 10px;
    cursor: pointer;
  }

  #sawerBox {
    background: #FFD700;
    color: #000;
    text-align: center;
    padding: 8px;
    border-radius: 6px;
    font-weight: bold;
    cursor: pointer;
  }

  /* Responsive fix: tetap 2 kolom di mobile */
  @media (max-width: 768px) {
    #middleSection {
      flex-direction: row;
    }
    .left-col { max-width: 65%; }
    #chatContainer { max-width: 35%; }
  }
</style>
</head>
<body>

<div id="header"><span>RENDY CASUAL</span></div>

<main id="mainContent">
  <div id="middleSection">
    <!-- Left -->
    <div class="left-col">
      <div id="player-container">
        <video id="video" playsinline muted></video>
        <div id="overlay">‚è≥ Memuat stream...</div>
        <div id="controls">
          <div class="volume-group">
            <button id="btnMute"><i data-lucide="volume-2" class="w-5 h-5"></i></button>
            <input id="volumeControl" type="range" min="0" max="1" step="0.01" value="1">
          </div>
          <button id="btnQuality"><i data-lucide="settings" class="w-5 h-5"></i> <span id="qualityLabel">Auto</span></button>
          <button id="btnFullscreen"><i data-lucide="maximize" class="w-5 h-5"></i></button>
        </div>
      </div>

      <div id="sawerBox">Klik Link untuk Tonton Live | Terima kasih atas dukungan Anda!</div>

      <div class="stream-row"><span>üî¥ INDO vs KOREA:</span><button data-stream="stream1" data-index="0">Link 1</button><button data-stream="stream1" data-index="1">Link 2</button><button data-stream="stream1" data-index="2">Link 3</button></div>
      <div class="stream-row"><span>üî¥ INDO vs KOREA:</span><button data-stream="stream2" data-index="0">Link 1</button><button data-stream="stream2" data-index="1">Link 2</button><button data-stream="stream2" data-index="2">Link 3</button></div>
    </div>

    <!-- Chat -->
    <div id="chatContainer">
      <div id="chatBox"></div>
      <form id="chatForm">
        <input type="text" id="chatInput" placeholder="Ketik pesan...">
        <button type="submit">Kirim</button>
      </form>
    </div>
  </div>
</main>

<div id="footer"><a href="#" style="color:white; font-weight:bold;">¬© 2025 RENDY CASUAL</a></div>

<script>
const video = document.getElementById("video");
const overlay = document.getElementById("overlay");
let hls;

function loadStream(url){
  if(hls){ hls.destroy(); }
  hls = new Hls();
  hls.loadSource(url);
  hls.attachMedia(video);
  hls.on(Hls.Events.MANIFEST_PARSED, ()=>{
    overlay.style.display = 'none';
    video.play();
  });
}

const streams = {
  stream1:["https://test-streams.mux.dev/x36xhzz/x36xhzz.m3u8"],
  stream2:["https://test-streams.mux.dev/bbb-abr/bbb.m3u8"]
};

document.querySelectorAll(".stream-row button").forEach(btn=>{
  btn.addEventListener("click",()=>{
    document.querySelectorAll(".stream-row button").forEach(b=>b.classList.remove("active"));
    btn.classList.add("active");
    let s=btn.dataset.stream, i=btn.dataset.index;
    loadStream(streams[s][i]);
  });
});

const btnMute=document.getElementById("btnMute"),volumeControl=document.getElementById("volumeControl"),btnQuality=document.getElementById("btnQuality"),qualityLabel=document.getElementById("qualityLabel"),btnFullscreen=document.getElementById("btnFullscreen");

btnMute.addEventListener("click",()=>{
  video.muted=!video.muted;
  btnMute.innerHTML = video.muted? '<i data-lucide="volume-x" class="w-5 h-5"></i>' : '<i data-lucide="volume-2" class="w-5 h-5"></i>';
  lucide.createIcons();
});
volumeControl.addEventListener("input",()=>{ video.volume=volumeControl.value; });

btnQuality.addEventListener("click",()=>{
  qualityLabel.textContent = qualityLabel.textContent === "Auto" ? "720p" : "1080";
});

btnFullscreen.addEventListener("click",()=>{
  if(!document.fullscreenElement){
    document.getElementById("player-container").requestFullscreen();
  } else {
    document.exitFullscreen();
  }
});

document.addEventListener("fullscreenchange",()=>{
  document.getElementById("player-container").classList.toggle("fullscreen",!!document.fullscreenElement);
});

const chatForm=document.getElementById("chatForm"),chatInput=document.getElementById("chatInput"),chatBox=document.getElementById("chatBox");
chatForm.addEventListener("submit",e=>{
  e.preventDefault();
  if(chatInput.value.trim()==="") return;
  let msg=document.createElement("div");
  msg.textContent=chatInput.value;
  chatBox.appendChild(msg);
  chatInput.value="";
  chatBox.scrollTop=chatBox.scrollHeight;
});

lucide.createIcons();
</script>

</body>
</html>
