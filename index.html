<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<title>RENDY CASUAL</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<style>
body.dark { color:white; margin:0; font-family:sans-serif; 
background: 
    linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), 
    url("https://iili.io/KzdpHxV.md.png") no-repeat center center fixed;
  background-size: cover;
} 

/* Header */
#header {
  position:fixed; top:0; left:0; width:100%; z-index:100;
  display:flex; justify-content:center; align-items:center;
  background:#000; color:#fff; padding:35px 0;
  font-family:'Orbitron',sans-serif;
}
#adminLogin {
  position:absolute; right:20px; top:16px;
  background:#333; color:#fff; padding:6px 12px;
  border-radius:6px; cursor:pointer; font-weight:bold;
}

/* Footer */
#footer {
  position:fixed; bottom:0; left:0; width:100%; z-index:100;
  text-align:center; background:#000; color:#fff;
  padding:12px; font-weight:bold;
  box-shadow:0 -2px 8px rgba(0,0,0,0.5);
}

/* Layout */
#mainContent { margin-top:90px; margin-bottom:60px; width:100%; min-height:150vh; }
#middleSection {
  display:flex; flex-wrap:wrap; justify-content:center; gap:20px;
  width:100%; max-width:1200px; margin:0 auto;
}
.left-col { flex:1; max-width:900px; display:flex; flex-direction:column; gap:12px; }
#chatContainer {
  display:flex; flex-direction:column;
  width:300px; min-width:250px;
  background:#222; color:#fff; border-radius:8px;
  overflow:hidden;
}

/* Player */
#player-container {
  position:relative; width:100%; aspect-ratio:16/9;
  border-radius:12px; overflow:hidden;
  box-shadow:0 6px 16px rgba(0,0,0,0.6);
}
#player-container.fullscreen {
  width:100vw; height:100vh; aspect-ratio:auto; border-radius:0;
}
#video { width:100%; height:100%; object-fit:contain; }
#overlay {
  position:absolute; inset:0; background:rgba(240,240,240,0.85);
  color:#ff0000; font-size:20px; font-weight:bold;
  display:flex; align-items:center; justify-content:center;
  text-align:center; z-index:20;
  opacity:1; transition:opacity 0.3s;
}

/* Controls */
#controls {
  display:flex; gap:16px; align-items:center;
  position:absolute; bottom:10px; right:10px; z-index:15;
  background:#000; padding:8px 12px; border-radius:12px;
  font-size:14px; opacity:1; transition:opacity 0.5s;
}
#controls.hidden { opacity:0; pointer-events:none; }
.volume-group { display:flex; align-items:center; gap:6px; }
#volumeControl {
  -webkit-appearance:none; width:80px; height:6px;
  background:#654321; border-radius:4px;
}
#volumeControl::-webkit-slider-thumb {
  -webkit-appearance:none; width:14px; height:14px;
  border-radius:50%; background:#fff; cursor:pointer;
}
#qualityOptions {
  display:none; position:absolute; bottom:45px; right:40px;
  background:#000; padding:6px 10px; border-radius:6px;
  flex-direction:column; gap:6px;
}
#qualityOptions button {
  background:transparent; border:none; color:#fff;
  cursor:pointer; font-size:0.85rem; font-weight:bold;
}
#qualityOptions button.active { color:red; }

/* Chat */
#chatBox { flex:1; overflow-y:auto; padding:10px; font-size:0.9rem; }
#chatForm { display:flex; padding:8px; background:#111; gap:4px; }
#chatForm input {
  flex:1; padding:6px; border-radius:4px;
  border:none; background:#333; color:#fff;
}
#chatForm button {
  padding:6px 10px; border-radius:4px; border:none;
  background:red; color:#fff; font-weight:bold; cursor:pointer;
}

/* Popup Sawer */
#popupSawer {
  position:fixed; inset:0; z-index:250;
  display:none; align-items:center; justify-content:center;
  background:rgba(0,0,0,0.75);
  opacity:0; transition:opacity 0.25s ease;
}
#popupSawer.show { display:flex; opacity:1; }
#popupContent {
  width:90%; max-width:380px; background:#fff; color:#000;
  border-radius:12px; padding:18px; text-align:center;
  transform:translateY(-18px); opacity:0;
  transition:transform 0.25s ease, opacity 0.25s ease;
}
#popupSawer.show #popupContent {
  transform:translateY(0); opacity:1;
}
#popupHeader { font-weight:900; margin-bottom:8px; line-height:1.15; }
#nominalList {
  display:flex; flex-direction:column; gap:8px; margin-top:12px;
}
.nominal-box {
  display:flex; justify-content:space-between; align-items:center;
  padding:8px; background:#fef08a; border-radius:8px; font-weight:bold;
}
.nominal-box .btns { display:flex; gap:6px; }
.nominal-small {
  padding:6px 8px; border-radius:6px; background:#111;
  color:#fff; border:none; cursor:pointer; font-weight:700;
}
#qrContainer {
  margin-top:12px; display:flex; flex-direction:column;
  align-items:center; gap:8px; position:relative;
}
#qrContainer img {
  width:180px; height:180px; border:2px solid #000; border-radius:12px;
}
.qr-msg { font-weight:bold; color:#000; text-align:center; margin-bottom:12px; }
#btnPlayStream {
  display:none; margin:12px auto;
  padding:10px 20px; background:red; color:#fff;
  font-weight:bold; border:none; border-radius:8px;
  cursor:pointer; font-size:1rem; z-index:300;
}

/* Stream links */
#sawerBox {
  background:yellow; color:#000; font-weight:bold;
  padding:10px; border-radius:8px; text-align:center; margin-top:20px;
}
.stream-row {
  display:flex; flex-wrap:wrap; gap:8px; align-items:center;
  background:#111; padding:10px; border-radius:10px;
  box-shadow:0 3px 8px rgba(0,0,0,0.5); margin-top:10px;
}
.stream-row span {
  min-width:90px; font-weight:bold; color:#fff;
  font-size:0.95rem; flex-shrink:0;
}
.stream-row button {
  color:#000; font-weight:bold; background:#fff;
  border:1px solid #000; padding:5px 12px;
  border-radius:2px; cursor:pointer; font-size:0.85rem;
  transition:all 0.2s; flex-shrink:0;
}
.stream-row button.active { background:red !important; color:white !important; }

/* Responsive fixes */
@media (max-width:1024px){
  #middleSection{
    flex-direction: column;
    align-items: center;
  }
  #middleSection > div:first-child{
    width: 100%;
    max-width: 100%;
  }
  #chatContainer{
    width: 90%;
    max-width: 400px;
    margin-top: 12px;
    height:auto;
    max-height:400px;
  }
  #player-container{
    width: 100%;
    max-width: 100%;
    aspect-ratio:16/9;
  }
}
</style>
</head>
<body class="dark flex flex-col items-center" oncontextmenu="return false">

<div id="header">
  <button id="adminLogin">Admin Login</button>
</div>

<main id="mainContent">
<div id="middleSection">
  <div style="display:flex;flex-wrap:wrap;gap:20px;align-items:flex-start;">
    <div style="position:relative;flex:1;max-width:900px;">
      <div id="player-container">
        <video id="video" playsinline muted></video>
        <div id="overlay">‚è≥ Memuat stream...</div>
        <div id="controls">
          <div class="volume-group">
            <button id="btnMute" class="p-1 text-white"><i data-lucide="volume-2" class="w-5 h-5"></i></button>
            <input id="volumeControl" type="range" min="0" max="1" step="0.05" value="1">
          </div>
          <button id="btnQuality" class="p-1 text-white flex items-center gap-1"><i data-lucide="settings" class="w-5 h-5"></i> Auto</button>
          <div id="qualityOptions" class="flex flex-col gap-2">
            <button data-quality="auto" class="active">Auto</button>
            <button data-quality="360">360p</button>
            <button data-quality="480">480p</button>
            <button data-quality="720">720p HD</button>
            <button data-quality="1080">1080p HD</button>
          </div>
          <button id="btnFullscreen" class="p-1 text-white"><i data-lucide="maximize" class="w-5 h-5"></i></button>
        </div>
      </div>

      <div id="sawerBox">Klik Link untuk Tonton Live | Terima kasih atas dukungan Anda!</div>

      <div class="stream-row">
        <div class="stream-row">
        <span>üî¥ INDO vs KOR:</span>
        <button data-stream="stream1" data-index="0">Link 1</button>
        <button data-stream="stream1" data-index="1">Link 2</button>
        <button data-stream="stream1" data-index="2">Link 3</button>
      </div>
      <div class="stream-row">
        <span>üî¥ INDO vs KOR:</span>
        <button data-stream="stream2" data-index="0">Link 1</button>
        <button data-stream="stream2" data-index="1">Link 2</button>
        <button data-stream="stream2" data-index="2">Link 3</button>
      </div>
      <div class="stream-row">
        <span>üî¥ INDO vs KOR:</span>
        <button data-stream="stream3" data-index="0">Link 1</button>
        <button data-stream="stream3" data-index="1">Link 2</button>
        <button data-stream="stream3" data-index="2">Link 3</button>
      </div>
      <div class="stream-row">
        <span>üî¥ INDO vs KOR:</span>
        <button data-stream="stream3" data-index="0">Link 1</button>
        <button data-stream="stream3" data-index="1">Link 2</button>
        <button data-stream="stream3" data-index="2">Link 3</button>
      </div>
    </div>


      <button id="btnPlayStream">‚ñ∂Ô∏è Play Stream</button>
    </div>

    <div id="chatContainer">
      <div id="chatBox"></div>
      <form id="chatForm">
        <input type="text" id="chatInput" placeholder="Ketik pesan..."/>
        <button type="submit">Kirim</button>
      </form>
    </div>
  </div>
</div>
</main>

<div id="footer"><a href="#" style="color:white; font-weight:bold;">¬© 2025 RENDY CASUAL</a></div>

<div id="popupSawer" aria-hidden="true">
  <div id="popupContent">
    <div id="popupHeader">üí∏ SAWER SEIKHLASNYA<br><small>Sekali Sawer Nonton Gratis Tanpa Iklan</small></div>
    <div id="nominalList"></div>
    <div id="qrContainer">
      <img id="qrImage" src="" alt="QR Code">
      <div class="qr-msg">Silakan scan QR untuk verifikasi...</div>
    </div>
    <button onclick="closePopup()">Tutup</button>
  </div>
</div>

<script>
lucide.createIcons();
const STREAMS={ 
stream1:{urls:[
"https://redirector.rudo.video/hls-video/567ffde3fa319fadf3419efda25619456231dfea/latina/latina.smil/playlist.m3u8",
"https://redirector.rudo.video/hls-video/567ffde3fa319fadf3419efda25619456231dfea/latina/latina.smil/playlist.m3u8",
"https://redirector.rudo.video/hls-video/567ffde3fa319fadf3419efda25619456231dfea/latina/latina.smil/playlist.m3u8",
]},
stream2:{urls:[
"https://redirector.rudo.video/hls-video/567ffde3fa319fadf3419efda25619456231dfea/latina/latina.smil/playlist.m3u8",
"https://hms.pfs.gdn/hms/v1/broadcast/one/primary/tracks-v3a1/mono.m3u8?token=je8V9hMREKhw5keYu4Qj1A:2dpXBrh8M71BQyge9xZ88Exu6ocd20SXS6NTjfNQVkD8h9jU6MwOJ9F-YYVzpAIPhI9jvBk8yzVvVtYzcEqoSeJXo09-DoD3VOUx6SsX5TGMUQ8wC5orAft9I55H9j6udfbxNtwOB6_xbrDVQHQBN1371uj9gH8cRlA1lXhI51g1ujd5cHp0FhFI6tZqt-EmVnpcMxCiIbS_RQk91TZiQg",
"https://live.alilicloud.com/live/c8551919cfe98878229ef2d6b979aa49/playlist.m3u8",
]},
stream3:{urls:[
"https://mahabawdilive.pyoneplay.com/hls/stream.m3u8",
"https://mahabawdilive.pyoneplay.com/hls/stream.m3u8",
"https://live.alilicloud.com/live/c8551919cfe98878229ef2d6b979aa49/playlist.m3u8",
]},
stream4:{urls:[
"https://mahabawdilive.pyoneplay.com/hls/stream.m3u8",
"https://mahabawdilive.pyoneplay.com/hls/stream.m3u8",
"https://live.alilicloud.com/live/c8551919cfe98878229ef2d6b979aa49/playlist.m3u8",
]} };
const video=document.getElementById("video"),overlay=document.getElementById("overlay"),container=document.getElementById("player-container"),btnFullscreen=document.getElementById("btnFullscreen"),btnMute=document.getElementById("btnMute"),volumeControl=document.getElementById("volumeControl"),qualityBtn=document.getElementById("btnQuality"),qualityOptions=document.getElementById("qualityOptions"),popup=document.getElementById('popupSawer'),nominalListEl=document.getElementById('nominalList'),qrContainer=document.getElementById('qrContainer'),qrImage=document.getElementById('qrImage'),btnPlayStream=document.getElementById('btnPlayStream'),chatContainer=document.getElementById('chatContainer');
let hls=null,lastActiveButton=null,pendingStream=null,qrTimer=null,isAdmin=false;
video.addEventListener("waiting", () => {
  overlay.style.display = "flex";  // tampilkan loading
});
video.addEventListener("canplay", () => {
  overlay.style.display = "none";  // sembunyikan loading
});
video.addEventListener("playing", () => {
  overlay.style.display = "none";  // pastikan tetap hilang
});

// Admin Login
document.getElementById('adminLogin').addEventListener('click',()=>{
  const u=prompt("Username user:"),p=prompt("Password password:");
  if(u==="reno"&&p==="wadju"){alert("Admin mode aktif");isAdmin=true;}
  else alert("Login gagal!");
});

// Popup Sawer & QR
const NOMINALS=[10000,20000,30000,40000,50000];
function openPopup(){
  if(isAdmin) return;
  nominalListEl.innerHTML=""; qrContainer.style.display="none";
  NOMINALS.forEach(n=>{
    const box=document.createElement('div');box.className='nominal-box';
    box.innerHTML=`<div>Rp ${n.toLocaleString('id-ID')}</div>
      <div class="btns">
        <button class="nominal-small pay-gopay" data-nom="${n}">GoPay</button>
        <button class="nominal-small pay-dana" data-nom="${n}">Dana</button>
      </div>`;
    nominalListEl.appendChild(box);
  });
  nominalListEl.querySelectorAll('.pay-gopay').forEach(btn=>{btn.addEventListener('click',()=>{showQR('gopay',btn.dataset.nom);});});
  nominalListEl.querySelectorAll('.pay-dana').forEach(btn=>{btn.addEventListener('click',()=>{showQR('dana',btn.dataset.nom);});});
  popup.classList.add('show'); popup.setAttribute('aria-hidden','false');
  btnPlayStream.style.display='none';
}

function closePopup(){
  popup.classList.remove('show'); popup.setAttribute('aria-hidden','true');
  if(qrTimer) clearTimeout(qrTimer);
  if(qrContainer.dataset.verified!=="true"){nominalListEl.style.display='flex'; qrContainer.style.display='none';}
}

function showQR(method,nominal){
  nominalListEl.style.display='none'; qrContainer.style.display='flex';
  qrImage.src=(method==='gopay')?"https://iili.io/Kos01X1.md.jpg":"https://iili.io/Kot8APe.md.jpg";
  qrContainer.dataset.verified="false";
  if(qrTimer) clearTimeout(qrTimer);
  qrTimer=setTimeout(()=>{if(qrContainer.dataset.verified!=="true"){nominalListEl.style.display='flex'; qrContainer.style.display='none';}},10000);
}

// Tombol Play otomatis
btnPlayStream.addEventListener('click',()=>{
  qrContainer.dataset.verified="true";
  localStorage.setItem('verified_'+new Date().toLocaleDateString(),'true');
  if(pendingStream) playStream(pendingStream.stream,pendingStream.btn);
  btnPlayStream.style.display='none';
});

// Auto bypass QR jika sudah scan hari ini
if(localStorage.getItem('verified_'+new Date().toLocaleDateString())==='true'){
  qrContainer.dataset.verified="true"; btnPlayStream.style.display='block';
  if(pendingStream) playStream(pendingStream.stream,pendingStream.btn);
}

// Play Stream dengan error handling
function playStream(k, btn = null) {
  if (!isAdmin && qrContainer.dataset.verified !== "true") {
    openPopup();
    pendingStream = { stream: k, btn: btn };
    return;
  }
  if (lastActiveButton) lastActiveButton.classList.remove("active");
  if (btn) {
    btn.classList.add("active");
    lastActiveButton = btn;
  }
  const url = STREAMS[k].urls[0];
  if (hls) {
    hls.destroy();
    hls = null;
  }

  // Fungsi untuk tampilkan error
  function showStreamError() {
    overlay.style.display = "flex";
    overlay.innerHTML = "‚ö†Ô∏è Stream tidak tersedia, coba klik ulang";
  }

  if (Hls.isSupported()) {
    hls = new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED, () => {
      video.play()
        .then(() => { overlay.style.display = "none"; })
        .catch(showStreamError);
    });
    hls.on(Hls.Events.ERROR, (event, data) => {
      console.error("HLS Error:", data);
      showStreamError();
    });
  } else {
    video.src = url;
    video.play()
      .then(() => { overlay.style.display = "none"; })
      .catch(showStreamError);
  }
  closePopup();
}


// Stream Buttons
document.querySelectorAll('.stream-row button').forEach(btn=>{btn.addEventListener('click',()=>{playStream(btn.dataset.stream,btn);});});

// Fullscreen + rotate
async function enterFullscreen(){try{if(container.requestFullscreen) await container.requestFullscreen();container.classList.add("fullscreen");btnFullscreen.innerHTML='<i data-lucide="minimize" class="w-5 h-5"></i>';lucide.createIcons();if(screen.orientation&&screen.orientation.lock) screen.orientation.lock('landscape').catch(()=>{});}catch(e){}}
async function exitFullscreen(){try{if(document.exitFullscreen) await document.exitFullscreen();container.classList.remove("fullscreen");btnFullscreen.innerHTML='<i data-lucide="maximize" class="w-5 h-5"></i>';lucide.createIcons();if(screen.orientation&&screen.orientation.unlock) screen.orientation.unlock();}catch(e){}}
btnFullscreen.addEventListener("click",()=>{!document.fullscreenElement?enterFullscreen():exitFullscreen();});
video.addEventListener("dblclick",()=>{!document.fullscreenElement?enterFullscreen():exitFullscreen();});

// Volume
function updateVolumeIcon(){btnMute.innerHTML=video.muted||video.volume===0?'<i data-lucide="volume-x" class="w-5 h-5"></i>':'<i data-lucide="volume-2" class="w-5 h-5"></i>';lucide.createIcons();}
volumeControl.addEventListener("input",e=>{video.muted=false;video.volume=e.target.value;updateVolumeIcon();});
btnMute.addEventListener("click",()=>{video.muted=!video.muted;updateVolumeIcon();});

// Quality dropdown
qualityBtn.addEventListener("click",()=>{qualityOptions.style.display=qualityOptions.style.display==="flex"?"none":"flex";});
qualityOptions.querySelectorAll("button").forEach(b=>{b.addEventListener("click",()=>{qualityOptions.querySelectorAll("button").forEach(bt=>bt.classList.remove("active"));b.classList.add("active");qualityBtn.innerText=b.innerText;qualityOptions.style.display="none";});});

// Chat
const chatBox=document.getElementById("chatBox"),chatForm=document.getElementById("chatForm"),chatInput=document.getElementById("chatInput");
function addChatMessage(user,msg){const div=document.createElement('div'); div.innerHTML=`<strong style="color:yellow">${user}</strong>: ${msg}`; chatBox.appendChild(div); chatBox.scrollTop=chatBox.scrollHeight;}
chatForm.addEventListener('submit',e=>{e.preventDefault();const msg=chatInput.value.trim();if(msg==='')return;const data={user:isAdmin?"Admin":"Guest",msg:msg,time:Date.now()};const messages=JSON.parse(localStorage.getItem('liveChat')||'[]');messages.push(data);localStorage.setItem('liveChat',JSON.stringify(messages));addChatMessage(data.user,msg);chatInput.value='';});
window.addEventListener('storage',e=>{if(e.key==='liveChat'){chatBox.innerHTML='';const messages=JSON.parse(localStorage.getItem('liveChat')||'[]');messages.forEach(m=>addChatMessage(m.user,m.msg));}});
const initMessages=JSON.parse(localStorage.getItem('liveChat')||'[]');initMessages.forEach(m=>addChatMessage(m.user,m.msg));

// Adjust chat height
function adjustChatHeight(){chatContainer.style.height=container.offsetHeight+'px';}
window.addEventListener('resize',adjustChatHeight);
window.addEventListener('load',adjustChatHeight);

// Responsive layout adjustment
function adjustLayout(){
  const w = window.innerWidth;
  if(w <= 1024){
    chatContainer.style.height='auto';
  } else {
    chatContainer.style.height = container.offsetHeight+'px';
  }
}
window.addEventListener('resize', adjustLayout);
window.addEventListener('load', adjustLayout);

// Auto-hide controls
let controlsTimeout;
function showControls(){container.querySelector('#controls').classList.remove('hidden'); resetControlsTimer();}
function hideControls(){container.querySelector('#controls').classList.add('hidden');}
function resetControlsTimer(){if(controlsTimeout) clearTimeout(controlsTimeout); controlsTimeout=setTimeout(hideControls,3000);}
container.addEventListener('mousemove',showControls);
container.addEventListener('touchstart',showControls);
resetControlsTimer();
</script>
</body>
</html>
