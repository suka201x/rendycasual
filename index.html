<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<title>RENDY CASUAL</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<style>
body.dark { background:#111;color:white;margin:0;font-family:sans-serif; }
#channelName{position:fixed;top:0;left:0;width:100%;z-index:100;font-weight:900;text-align:center;font-size:3rem;padding:16px 0;background:#000;letter-spacing:3px;font-family:'Orbitron',sans-serif;color:#fff;text-shadow:0 0 6px rgba(255,0,0,0.3),0 0 12px rgba(255,255,255,0.25);animation:glow 2.5s infinite alternate;}
@keyframes glow{0%{text-shadow:0 0 6px rgba(255,0,0,0.4),0 0 12px rgba(255,255,255,0.3);}100%{text-shadow:0 0 8px rgba(255,255,255,0.4),0 0 16px rgba(255,0,0,0.4);}}

/* Layout Responsive */
#mainContent{margin-top:90px;width:100%;display:flex;flex-direction:column;align-items:center;}
#middleSection{display:flex;flex-wrap:wrap;justify-content:center;gap:12px;width:100%;max-width:1200px;}
#videoContainer{position:relative;width:100%;max-width:900px;flex:1;display:flex;flex-direction:column;}
#player-container{position:relative;width:100%;aspect-ratio:16/9;border-radius:12px;overflow:hidden;box-shadow:0 6px 16px rgba(0,0,0,0.6);}
#video{width:100%;height:100%;object-fit:contain;}
#overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(240,240,240,0.85);color:#ff0000;font-size:20px;font-weight:bold;display:flex;align-items:center;justify-content:center;text-align:center;z-index:20;}
#controls{display:flex;gap:16px;align-items:center;position:absolute;bottom:10px;right:10px;z-index:15;background:#000;padding:8px 12px;border-radius:12px;font-size:14px;opacity:1;transition:opacity 0.5s;}
.volume-group{display:flex;align-items:center;gap:6px;}
#volumeControl{-webkit-appearance:none;width:80px;height:6px;background:#654321;border-radius:4px;}
#volumeControl::-webkit-slider-thumb{-webkit-appearance:none;width:14px;height:14px;border-radius:50%;background:#fff;cursor:pointer;}
#qualityGear{cursor:pointer;position:relative;}
#qualityDropdown{display:none;flex-direction:column;position:absolute;bottom:45px;right:0;background:#000;padding:6px 10px;border-radius:6px;gap:6px;z-index:50;min-width:120px;}
#qualityDropdown button{display:flex;align-items:center;gap:6px;background:transparent;border:none;color:#fff;cursor:pointer;font-size:0.85rem;font-weight:bold;text-align:left;padding:2px;}
#qualityDropdown button:hover{color:#ff4444;}

/* Stream Buttons */
.stream-buttons{display:flex;flex-direction:column;gap:12px;width:100%;max-width:900px;}
.stream-row{display:flex;flex-wrap:wrap;gap:8px;align-items:center;background:#111;padding:10px;border-radius:10px;box-shadow:0 3px 8px rgba(0,0,0,0.5);}
.stream-row span{min-width:180px;font-weight:bold;color:#fff;font-size:0.95rem;flex-shrink:0;}
.stream-row button{color:#000;font-weight:bold;background:#fff;border:1px solid #000;padding:5px 12px;border-radius:6px;cursor:pointer;font-size:0.85rem;transition:all 0.2s;flex-shrink:0;}
.stream-row button:hover{background:#ddd;}
.stream-row button.active{background:red !important;color:white !important;}

/* Kotak kuning */
#sawerBox{background:yellow;color:#000;font-weight:bold;padding:10px;border-radius:8px;text-align:center;width:100%;max-width:900px;margin-top:10px;}

/* Footer */
#bottomSection{background:#e5e5e5;padding:15px;text-align:center;margin-top:10px;}
#bottomSection p{color:#000;font-weight:bold;}

/* Live Chat */
#liveChatContainer{width:300px;max-width:100%;flex-shrink:0;display:flex;flex-direction:column;gap:4px;}
#liveChatMessages{background:#fff;color:#000;flex:1;padding:8px;overflow-y:auto;border-radius:6px;font-size:0.9rem;max-height:calc(100vh - 200px);}
#chatInput{padding:6px;border-radius:6px;border:1px solid #ccc;width:100%;box-sizing:border-box;color:#000;}

/* Popup Sawer & QR */
#popupSawer{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,0.75);z-index:250;transition:opacity 0.25s ease;opacity:0;}
#popupSawer.show{display:flex;opacity:1;}
#popupContent{width:90%;max-width:380px;background:#fff;color:#000;border-radius:12px;padding:18px;text-align:center;transform:translateY(-18px);transition:transform 0.25s ease, opacity 0.25s ease;opacity:0;}
#popupSawer.show #popupContent{transform:translateY(0);opacity:1;}
#popupHeader{font-weight:900;margin-bottom:8px;line-height:1.15;}
#nominalList{display:flex;flex-direction:column;gap:8px;margin-top:12px;}
.nominal-box{display:flex;justify-content:space-between;align-items:center;padding:8px;background:#fef08a;border-radius:8px;font-weight:bold;}
.nominal-box .btns{display:flex;gap:6px;}
.nominal-small{padding:6px 8px;border-radius:6px;background:#111;color:#fff;border:none;cursor:pointer;font-weight:700;}
#qrContainer{margin-top:12px;display:none;flex-direction:column;align-items:center;gap:8px;position:relative;}
#qrContainer img{width:180px;height:180px;border:2px solid #000;border-radius:12px;}
#qrContainer .qr-msg{font-weight:bold;color:#000;text-align:center;margin-bottom:12px;}
#btnPlayStream{display:none;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);padding:10px 20px;background:red;color:#fff;font-weight:bold;border:none;border-radius:8px;cursor:pointer;font-size:1rem;z-index:300;}

/* Login Overlay */
#loginOverlay{position:fixed;inset:0;background:rgba(0,0,0,0.85);z-index:500;display:flex;align-items:center;justify-content:center;}
#loginForm{background:#fff;color:#000;padding:24px;border-radius:12px;display:flex;flex-direction:column;gap:12px;width:90%;max-width:300px;}
#loginForm input{padding:8px;border-radius:6px;border:1px solid #ccc;width:100%;box-sizing:border-box;}
#loginForm button{padding:8px;border-radius:6px;border:none;background:red;color:#fff;font-weight:bold;cursor:pointer;}

/* Responsive */
@media(max-width:768px){
  #middleSection{flex-direction:column;align-items:center;}
  #liveChatContainer{width:95%;max-width:95%;margin-top:12px;}
}
</style>
</head>
<body class="dark flex flex-col items-center" oncontextmenu="return false">

<div id="channelName">RENDY CASUAL</div>

<!-- Login Overlay -->
<div id="loginOverlay">
  <div id="loginForm">
    <input id="loginUser" placeholder="Username" type="text">
    <input id="loginPass" placeholder="Password" type="password">
    <button id="btnLogin">Login Admin</button>
  </div>
</div>

<main id="mainContent">
  <div id="middleSection">
    <div id="videoContainer">
      <div id="player-container">
        <video id="video" playsinline muted></video>
        <div id="overlay">‚è≥ Memuat stream...</div>
        <div id="controls">
          <div class="volume-group">
            <button id="btnMute" class="p-1 text-white"><i data-lucide="volume-2" class="w-5 h-5 text-white"></i></button>
            <input id="volumeControl" type="range" min="0" max="1" step="0.05" value="1">
          </div>
          <div id="qualityGear"><i data-lucide="settings" class="w-5 h-5 text-white"></i>
            <div id="qualityDropdown"></div>
          </div>
          <button id="btnFullscreen" class="p-1 text-white"><i data-lucide="maximize" class="w-5 h-5"></i></button>
        </div>
      </div>

      <!-- Stream Buttons -->
      <div class="stream-buttons">
        <div class="stream-row">
          <span>üî¥ INDO vs LIBANON:</span>
          <button data-stream="stream1">Link 1</button>
          <button data-stream="stream1">Link 2</button>
          <button data-stream="stream1">Link 3</button>
        </div>
        <div class="stream-row">
          <span>üî¥ INDO vs LIBANON:</span>
          <button data-stream="stream2">Link 1</button>
          <button data-stream="stream2">Link 2</button>
          <button data-stream="stream2">Link 3</button>
        </div>
        <div class="stream-row">
          <span>üî¥ INDO vs LEBANON:</span>
          <button data-stream="stream3">Link 1</button>
          <button data-stream="stream3">Link 2</button>
          <button data-stream="stream3">Link 3</button>
        </div>
      </div>

      <div id="sawerBox">Klik Link untuk Tonton Live üíõ Terima kasih atas dukungan Anda!</div>
      <div id="bottomSection"><p>¬© 2025 RENDY CASUAL - All rights reserved</p></div>
    </div>

    <div id="liveChatContainer">
      <div id="liveChatMessages"></div>
      <input id="chatInput" placeholder="Ketik pesan..." type="text">
    </div>
  </div>
</main>

<!-- Popup Sawer & QR -->
<div id="popupSawer" aria-hidden="true">
  <div id="popupContent">
    <div id="popupHeader">üí∏ SAWER SEIKHLASNYA<br><small>Sekali Sawer Nonton Gratis Tanpa Iklan</small></div>
    <div id="nominalList"></div>
    <div id="qrContainer">
      <img id="qrImage" src="" alt="QR Code">
      <div class="qr-msg">Silakan scan QR untuk verifikasi...</div>
      <button id="btnPlayStream">‚ñ∂Ô∏è Play Stream</button>
    </div>
    <button onclick="closePopup()" style="margin-top:12px;background:#333;color:#fff;padding:6px 12px;border-radius:6px;border:none;cursor:pointer;">Tutup</button>
  </div>
</div>

<script>
lucide.createIcons();

const STREAMS={
  stream1:{url:"https://redirector.rudo.video/hls-video/567ffde3fa319fadf3419efda25619456231dfea/latina/latina.smil/playlist.m3u8"},
  stream2:{url:"https://live.alilicloud.com/live/c8551919cfe98878229ef2d6b979aa49/playlist.m3u8"},
  stream3:{url:"https://mahabawdilive.pyoneplay.com/hls/stream.m3u8"}
};

const video=document.getElementById("video"),
overlay=document.getElementById("overlay"),
btnMute=document.getElementById("btnMute"),
volumeControl=document.getElementById("volumeControl"),
qualityGear=document.getElementById("qualityGear"),
qualityDropdown=document.getElementById("qualityDropdown"),
loginOverlay=document.getElementById("loginOverlay"),
btnLogin=document.getElementById("btnLogin"),
loginUser=document.getElementById("loginUser"),
loginPass=document.getElementById("loginPass"),
liveChat=document.getElementById("liveChatMessages"),
chatInput=document.getElementById("chatInput"),
popup=document.getElementById('popupSawer'),
btnPlayStream=document.getElementById('btnPlayStream');

let hls=null,isAdmin=false,pendingStream=null;

// --- LOGIN ADMIN ---
btnLogin.addEventListener("click",()=>{
  if(loginUser.value==="admin" && loginPass.value==="12345"){isAdmin=true; loginOverlay.style.display="none";}
  else{alert("Login salah! User tetap QR popup."); loginOverlay.style.display="none";}
});

// --- PLAY STREAM ---
function playStream(url){
  overlay.style.display='flex';
  if(hls){hls.destroy(); hls=null;}
  if(Hls.isSupported()){
    hls=new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED,()=>{
      video.play();
      overlay.style.display='none';
      buildQualityDropdown();
    });
  } else {
    video.src=url;
    video.play().then(()=>{overlay.style.display='none';});
  }
  closePopup();
}

// --- STREAM BUTTONS ---
document.querySelectorAll(".stream-row button").forEach(b=>{
  b.addEventListener("click",()=>{
    pendingStream=b.dataset.stream;
    if(isAdmin){playStream(STREAMS[pendingStream].url);}
    else{popup.classList.add('show');}
  });
});

// --- POPUP ---
function closePopup(){popup.classList.remove('show');}
btnPlayStream.addEventListener('click',()=>{if(pendingStream){playStream(STREAMS[pendingStream].url);}});

// --- VOLUME ---
function updateVolumeIcon(){btnMute.innerHTML=video.muted||video.volume===0?'<i data-lucide="volume-x" class="w-5 h-5 text-white"></i>':'<i data-lucide="volume-2" class="w-5 h-5 text-white"></i>';lucide.createIcons();}
volumeControl.addEventListener("input",e=>{video.muted=false;video.volume=e.target.value;updateVolumeIcon();});
btnMute.addEventListener("click",()=>{video.muted=!video.muted;updateVolumeIcon();});

// --- FULLSCREEN ---
document.getElementById("btnFullscreen").addEventListener("click",()=>{
  !document.fullscreenElement?video.parentElement.requestFullscreen():document.exitFullscreen();
});

// --- CHAT ---
chatInput.addEventListener("keypress",(e)=>{
  if(e.key==="Enter" && chatInput.value.trim()!==""){
    let msg=document.createElement("div");
    msg.textContent=chatInput.value;
    liveChat.appendChild(msg);
    chatInput.value="";
    liveChat.scrollTop=liveChat.scrollHeight;
  }
});

// --- QUALITY DROPDOWN ---
function buildQualityDropdown(){
  qualityDropdown.innerHTML='';
  if(!hls || !hls.levels) return;

  // Auto
  const btnAuto=document.createElement('button');
  btnAuto.textContent='Auto';
  btnAuto.dataset.level=-1;
  btnAuto.addEventListener('click',()=>{
    hls.currentLevel=-1;
    highlightSelectedLevel(-1);
    qualityDropdown.style.display='none';
  });
  qualityDropdown.appendChild(btnAuto);

  // Levels
  hls.levels.forEach((level,index)=>{
    const btn=document.createElement('button');
    const height = level.height || 0;
    btn.textContent = height + (height>=720?' HD':'');
    btn.dataset.level=index;
    btn.addEventListener('click',()=>{
      hls.currentLevel=index;
      highlightSelectedLevel(index);
      qualityDropdown.style.display='none';
    });
    qualityDropdown.appendChild(btn);
  });

  highlightSelectedLevel(hls.currentLevel);
}

// Highlight selected level
function highlightSelectedLevel(levelIndex){
  qualityDropdown.querySelectorAll('button').forEach(btn=>{
    if(parseInt(btn.dataset.level)===levelIndex){
      btn.style.color='#ff4444';
      btn.style.fontWeight='bold';
    } else {
      btn.style.color='#fff';
      btn.style.fontWeight='normal';
    }
  });
}

// Toggle dropdown
qualityGear.addEventListener('click',()=>{qualityDropdown.style.display=(qualityDropdown.style.display==='flex')?'none':'flex';});
</script>
</body>
</html>
