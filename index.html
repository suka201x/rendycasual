<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<title>RENDY CASUAL</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<script src="https://cdn.tailwindcss.com"></script>
<script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
<script src="https://unpkg.com/lucide@latest"></script>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@700;900&display=swap" rel="stylesheet">
<style>
/* --- STYLES SAMA PERSIS SEPERTI FILE LAMA --- */
body.dark { color:white; margin:0; font-family:sans-serif; 
background: 
    linear-gradient(rgba(0,0,0,0.4), rgba(0,0,0,0.4)), 
    url("https://iili.io/KzdpHxV.md.png") no-repeat center center fixed;
  background-size: cover;
} 

#header { position:fixed; top:0; left:0; width:100%; z-index:100;
  display:flex; justify-content:center; align-items:center;
  background:#000; color:#fff; padding:35px 0;
  font-family:'Orbitron',sans-serif;
}
#HOME { position:absolute; right:20px; top:16px;
  background:#333; color:#fff; padding:6px 12px;
  border-radius:6px; cursor:pointer; font-weight:bold;
}
#QR_TOGGLE { position:absolute; right:100px; top:16px;
  background:#333; color:#fff; padding:6px 12px;
  border-radius:6px; cursor:pointer; font-weight:bold;
}

#footer { position:fixed; bottom:0; left:0; width:100%; z-index:100;
  text-align:center; background:#000; color:#fff;
  padding:12px; font-weight:bold;
  box-shadow:0 -2px 8px rgba(0,0,0,0.5);
}
#mainContent { margin-top:90px; margin-bottom:60px; width:100%; min-height:150vh; }
#middleSection {
  display:flex; flex-wrap:wrap; justify-content:center; gap:20px;
  width:100%; max-width:1200px; margin:0 auto;
}
.left-col { flex:1; max-width:900px; display:flex; flex-direction:column; gap:12px; }
#chatContainer { display:flex; flex-direction:column; width:300px; min-width:250px;
  background:#222; color:#fff; border-radius:8px; overflow:hidden;
}
/* --- PLAYER, CONTROLS, CHAT, POPUP, STREAM ROW, etc sama persis --- */
</style>
</head>
<body class="dark flex flex-col items-center" oncontextmenu="return false">

<div id="header">
  <button id="HOME">HOME</button>
  <button id="QR_TOGGLE">QR ON/OFF</button>
</div>

<main id="mainContent">
<div id="middleSection">
  <div style="display:flex;flex-wrap:wrap;gap:20px;align-items:flex-start;">
    <div style="position:relative;flex:1;max-width:900px;">
      <div id="player-container">
        <video id="video" playsinline muted></video>
        <div id="overlay">‚è≥ Memuat stream...</div>
        <div id="controls">
          <div class="volume-group">
            <button id="btnMute" class="p-1 text-white"><i data-lucide="volume-2" class="w-5 h-5"></i></button>
            <input id="volumeControl" type="range" min="0" max="1" step="0.05" value="1">
          </div>
          <button id="btnQuality" class="p-1 text-white flex items-center gap-1"><i data-lucide="settings" class="w-5 h-5"></i> Auto</button>
          <div id="qualityOptions" class="flex flex-col gap-2">
            <button data-quality="auto" class="active">Auto</button>
            <button data-quality="360">360p</button>
            <button data-quality="480">480p</button>
            <button data-quality="720">720p HD</button>
            <button data-quality="1080">1080p HD</button>
          </div>
          <button id="btnFullscreen" class="p-1 text-white"><i data-lucide="maximize" class="w-5 h-5"></i></button>
        </div>
      </div>

      <div id="sawerBox">Klik Link untuk Tonton Live | Terima kasih atas dukungan Anda!</div>
      <!-- STREAM ROWS -->
      <div class="stream-row"><span>üî¥ INDO vs KOR:</span>
        <button data-stream="stream1" data-index="0">Link 1</button>
        <button data-stream="stream1" data-index="1">Link 2</button>
        <button data-stream="stream1" data-index="2">Link 3</button>
      </div>

      <button id="btnPlayStream">‚ñ∂Ô∏è Play Stream</button>
    </div>

    <div id="chatContainer">
      <div id="chatBox"></div>
      <form id="chatForm">
        <input type="text" id="chatInput" placeholder="Ketik pesan..."/>
        <button type="submit">Kirim</button>
      </form>
    </div>
  </div>
</div>
</main>

<div id="footer"><a href="#" style="color:white; font-weight:bold;">¬© 2025 RENDY CASUAL</a></div>

<div id="popupSawer" aria-hidden="true">
  <div id="popupContent">
    <div id="popupHeader">üí∏ SAWER SEIKHLASNYA<br><small>Sekali Sawer Nonton Gratis Tanpa Iklan</small></div>
    <div id="nominalList"></div>
    <div id="qrContainer">
      <img id="qrImage" src="" alt="QR Code">
      <div class="qr-msg">Silakan scan QR untuk verifikasi...</div>
    </div>
    <button onclick="closePopup()">Tutup</button>
  </div>
</div>

<script>
lucide.createIcons();
let qrEnabled = true; // <-- PENTING UNTUK QR ON/OFF

// GLOBAL FUNGSI AKSES GRATIS 10 HARI
function setFreeAccess(days = 10){
  const expireDate = new Date();
  expireDate.setDate(expireDate.getDate() + days);
  localStorage.setItem("freeAccessUntil", expireDate.getTime());
}
function hasFreeAccess(){
  const expire = localStorage.getItem("freeAccessUntil");
  if(!expire) return false;
  return new Date().getTime() < parseInt(expire);
}
function onQrPaymentSuccess(){
  qrContainer.dataset.verified = "true";
  setFreeAccess(10);
  closePopup();
  alert("Terima kasih! Kamu mendapat akses gratis 10 hari.");
  if(pendingStream){ playStream(pendingStream.stream, pendingStream.btn); pendingStream=null; }
}

// ADMIN LOGIN
let isAdmin=false;
document.getElementById('HOME').addEventListener('click',()=>{
  const u=prompt("Username:"),p=prompt("Password :");
  if(u==="reno"&&p==="wadju"){alert("Admin mode aktif");isAdmin=true;}
  else alert("Login gagal!");
});

// ADMIN QR ON/OFF
document.getElementById('QR_TOGGLE').addEventListener('click',()=>{
  if(!isAdmin){ alert("Hanya admin!"); return; }
  qrEnabled = !qrEnabled;
  alert("QR "+(qrEnabled?"ON":"OFF"));
});

// Play Stream logic sama persis seperti file lama
// Tambahkan pengecekan qrEnabled & hasFreeAccess()
let pendingStream=null;
function playStream(k,btn=null){
  if(!isAdmin && qrEnabled && qrContainer.dataset.verified !== "true" && !hasFreeAccess()){
    openPopup();
    pendingStream = {stream:k, btn:btn};
    return;
  }
  // --- Kode HLS / video sama persis ---
  const url = STREAMS[k]?.urls[0];
  if(!url){ overlay.style.display="flex"; overlay.innerHTML="‚ö†Ô∏è Stream tidak tersedia"; return; }
  if(hls){ hls.destroy(); hls=null; }
  if(Hls.isSupported()){
    hls=new Hls();
    hls.loadSource(url);
    hls.attachMedia(video);
    hls.on(Hls.Events.MANIFEST_PARSED,()=>{ video.play().then(()=>{ overlay.style.display="none"; }).catch(()=>{ overlay.innerHTML="‚ö†Ô∏è Stream error"; overlay.style.display="flex"; }); });
    hls.on(Hls.Events.ERROR,(event,data)=>{ overlay.style.display="flex"; overlay.innerHTML="‚ö†Ô∏è Stream error"; });
  } else {
    video.src=url;
    video.play().catch(()=>{ overlay.style.display="flex"; overlay.innerHTML="‚ö†Ô∏è Stream error"; });
  }
  if(btn){ if(lastActiveButton) lastActiveButton.classList.remove("active"); btn.classList.add("active"); lastActiveButton=btn; }
}
document.querySelectorAll('.stream-row button').forEach(btn=>{btn.addEventListener('click',()=>{ playStream(btn.dataset.stream, btn); });});

// Otomatis bypass QR jika sudah free access
if(hasFreeAccess()){ qrContainer.dataset.verified="true"; btnPlayStream.style.display='block'; }

// Tombol Play Stream jika QR berhasil
btnPlayStream.addEventListener('click',()=>{ onQrPaymentSuccess(); });

// --- Sisanya semua JS: fullscreen, volume, quality, chat, layout sama persis ---
</script>
</body>
</html>
